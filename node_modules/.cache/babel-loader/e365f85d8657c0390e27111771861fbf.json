{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/user/Desktop/git-repos/Blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/user/Desktop/git-repos/Blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Users/user/Desktop/git-repos/Blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\git-repos\\\\Blog\\\\src\\\\Component\\\\ArticlesViewer\\\\ArticlesViewer.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useState, useCallback, useEffect } from \"react\";\nimport ArticlePreview from \"../Container/ArticlePreview\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar ArticlesViewer = function ArticlesViewer() {\n  _s();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      articles = _useState2[0],\n      setArticles = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isLoading = _useState4[0],\n      setIsLoading = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  var fetchArticlesHandler = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var response, data, loadedArticles, key;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setIsLoading(true);\n            setError(null);\n            _context.prev = 2;\n            _context.next = 5;\n            return fetch(\"https://my-blog-a6577-default-rtdb.firebaseio.com/articles.json\");\n\n          case 5:\n            response = _context.sent;\n\n            if (response.ok) {\n              _context.next = 8;\n              break;\n            }\n\n            throw new Error(\"Something went wrong\");\n\n          case 8:\n            _context.next = 10;\n            return response.json();\n\n          case 10:\n            data = _context.sent;\n            loadedArticles = [];\n\n            for (key in data) {\n              loadedArticles.unshift({\n                id: key,\n                title: data[key].title,\n                description: data[key].description,\n                body: data[key].body,\n                tagList: data[key].tagList\n              });\n            }\n\n            setArticles(loadedArticles);\n            setIsLoading(false);\n            _context.next = 20;\n            break;\n\n          case 17:\n            _context.prev = 17;\n            _context.t0 = _context[\"catch\"](2);\n            setError(_context.t0.message);\n\n          case 20:\n            setIsLoading(false);\n\n          case 21:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 17]]);\n  })), []);\n  useEffect(function () {\n    fetchArticlesHandler();\n  }, [fetchArticlesHandler]); //Consider to use for-loop for better run-time\n\n  var MapArticlePreview = articles.map(function (article) {\n    return /*#__PURE__*/_jsxDEV(ArticlePreview, {\n      title: article.title,\n      description: article.description,\n      body: article.body,\n      tagList: article.tagList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }, _this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"article-preview\",\n    children: [!isLoading && articles.length > 0 && MapArticlePreview, !isLoading && articles.length === 0 && !error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Found No articles.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, _this), isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }, _this), !isLoading && error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 31\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(ArticlesViewer, \"EkD5fQ/jAul1rphDNOqHDnYSL3A=\");\n\n_c = ArticlesViewer;\nexport default ArticlesViewer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArticlesViewer\");","map":{"version":3,"names":["useState","useCallback","useEffect","ArticlePreview","ArticlesViewer","articles","setArticles","isLoading","setIsLoading","error","setError","fetchArticlesHandler","fetch","response","ok","Error","json","data","loadedArticles","key","unshift","id","title","description","body","tagList","message","MapArticlePreview","map","article","length"],"sources":["C:/Users/user/Desktop/git-repos/Blog/src/Component/ArticlesViewer/ArticlesViewer.js"],"sourcesContent":["import { useState, useCallback, useEffect } from \"react\";\r\nimport ArticlePreview from \"../Container/ArticlePreview\";\r\n\r\nconst ArticlesViewer = () => {\r\n  const [articles, setArticles] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchArticlesHandler = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await fetch(\r\n        \"https://my-blog-a6577-default-rtdb.firebaseio.com/articles.json\"\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Something went wrong\");\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      const loadedArticles = [];\r\n      for (const key in data) {\r\n        loadedArticles.unshift({\r\n          id: key,\r\n          title: data[key].title,\r\n          description: data[key].description,\r\n          body: data[key].body,\r\n          tagList: data[key].tagList\r\n        });\r\n      }\r\n      setArticles(loadedArticles);\r\n      setIsLoading(false);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchArticlesHandler();\r\n  }, [fetchArticlesHandler]);\r\n\r\n  //Consider to use for-loop for better run-time\r\n  const MapArticlePreview = articles.map((article) => (\r\n    <ArticlePreview\r\n      title={article.title}\r\n      description={article.description}\r\n      body={article.body}\r\n      tagList={article.tagList}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <div className=\"article-preview\">\r\n      {!isLoading && articles.length > 0 && MapArticlePreview}\r\n      {!isLoading && articles.length === 0 && !error && (\r\n        <p>Found No articles.</p>\r\n      )}\r\n      {isLoading && <p>Loading</p>}\r\n      {!isLoading && error && <p>{error}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArticlesViewer;\r\n"],"mappings":";;;;;;;;AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,SAAhC,QAAiD,OAAjD;AACA,OAAOC,cAAP,MAA2B,6BAA3B;;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;EAAA;;EAC3B,gBAAgCJ,QAAQ,CAAC,EAAD,CAAxC;EAAA;EAAA,IAAOK,QAAP;EAAA,IAAiBC,WAAjB;;EACA,iBAAkCN,QAAQ,CAAC,KAAD,CAA1C;EAAA;EAAA,IAAOO,SAAP;EAAA,IAAkBC,YAAlB;;EACA,iBAA0BR,QAAQ,CAAC,IAAD,CAAlC;EAAA;EAAA,IAAOS,KAAP;EAAA,IAAcC,QAAd;;EAEA,IAAMC,oBAAoB,GAAGV,WAAW,0EAAC;IAAA;IAAA;MAAA;QAAA;UAAA;YACvCO,YAAY,CAAC,IAAD,CAAZ;YACAE,QAAQ,CAAC,IAAD,CAAR;YAFuC;YAAA;YAAA,OAIdE,KAAK,CAC1B,iEAD0B,CAJS;;UAAA;YAI/BC,QAJ+B;;YAAA,IAQhCA,QAAQ,CAACC,EARuB;cAAA;cAAA;YAAA;;YAAA,MAS7B,IAAIC,KAAJ,CAAU,sBAAV,CAT6B;;UAAA;YAAA;YAAA,OAYlBF,QAAQ,CAACG,IAAT,EAZkB;;UAAA;YAY/BC,IAZ+B;YAc/BC,cAd+B,GAcd,EAdc;;YAerC,KAAWC,GAAX,IAAkBF,IAAlB,EAAwB;cACtBC,cAAc,CAACE,OAAf,CAAuB;gBACrBC,EAAE,EAAEF,GADiB;gBAErBG,KAAK,EAAEL,IAAI,CAACE,GAAD,CAAJ,CAAUG,KAFI;gBAGrBC,WAAW,EAAEN,IAAI,CAACE,GAAD,CAAJ,CAAUI,WAHF;gBAIrBC,IAAI,EAAEP,IAAI,CAACE,GAAD,CAAJ,CAAUK,IAJK;gBAKrBC,OAAO,EAAER,IAAI,CAACE,GAAD,CAAJ,CAAUM;cALE,CAAvB;YAOD;;YACDnB,WAAW,CAACY,cAAD,CAAX;YACAV,YAAY,CAAC,KAAD,CAAZ;YAzBqC;YAAA;;UAAA;YAAA;YAAA;YA2BrCE,QAAQ,CAAC,YAAMgB,OAAP,CAAR;;UA3BqC;YA6BvClB,YAAY,CAAC,KAAD,CAAZ;;UA7BuC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAD,IA8BrC,EA9BqC,CAAxC;EAgCAN,SAAS,CAAC,YAAM;IACdS,oBAAoB;EACrB,CAFQ,EAEN,CAACA,oBAAD,CAFM,CAAT,CArC2B,CAyC3B;;EACA,IAAMgB,iBAAiB,GAAGtB,QAAQ,CAACuB,GAAT,CAAa,UAACC,OAAD;IAAA,oBACrC,QAAC,cAAD;MACE,KAAK,EAAEA,OAAO,CAACP,KADjB;MAEE,WAAW,EAAEO,OAAO,CAACN,WAFvB;MAGE,IAAI,EAAEM,OAAO,CAACL,IAHhB;MAIE,OAAO,EAAEK,OAAO,CAACJ;IAJnB;MAAA;MAAA;MAAA;IAAA,SADqC;EAAA,CAAb,CAA1B;EASA,oBACE;IAAK,SAAS,EAAC,iBAAf;IAAA,WACG,CAAClB,SAAD,IAAcF,QAAQ,CAACyB,MAAT,GAAkB,CAAhC,IAAqCH,iBADxC,EAEG,CAACpB,SAAD,IAAcF,QAAQ,CAACyB,MAAT,KAAoB,CAAlC,IAAuC,CAACrB,KAAxC,iBACC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,SAHJ,EAKGF,SAAS,iBAAI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,SALhB,EAMG,CAACA,SAAD,IAAcE,KAAd,iBAAuB;MAAA,UAAIA;IAAJ;MAAA;MAAA;MAAA;IAAA,SAN1B;EAAA;IAAA;IAAA;IAAA;EAAA,SADF;AAUD,CA7DD;;GAAML,c;;KAAAA,c;AA+DN,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}